use_error_handler: true
use_jaeger: true
use_forwarded_headers: true
pass_query_string: true
modules_path: Modules
payloads_folder: Payloads
forward_request_headers: true
forward_response_headers: true
generate_request_id: true
generate_trace_id: true
use_local_url: true
load_balancer:
  enabled: false
  url: localhost:9999

resource_id:
  property: id
  generate: true

cors:
  enabled: true
  headers:
  - Request-ID
  - Resource-ID
  - Trace-ID
  - Total-Count

http:
  retries: 2
  interval: 2.0
  exponential: true

auth:
  type: jwt
  global: true
  jwt:
    key: JLBMU2VbJZmt42sUwByUpJJF6Y5mG2gPNU9sQFUpJFcGFJdyKxskR3bxh527kax2UcXHvB
    issuer: dshop-identity-service
    issuers:
    validate_issuer: true
    audience:
    audiences:
    validate_audience: false
    validate_lifetime: false
  claims:
    role: http://schemas.microsoft.com/ws/2008/06/identity/claims/role
#  policies:
#    admin:
#      claims:
#        role: admin
#    product_manager:
#      claims:
#        role: manager
#        access: create_product

extensions:
  message_broker:
    use: rabbitmq
    configuration: rabbitmq.json

modules:
- name: home
  routes:
  - upstream: /
    method: GET
    use: return_value
    return_value: Welcome to DShop API!
    auth: false
