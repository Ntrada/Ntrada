config:
  generate_resource_id: true
  pass_query_string: true
  use_error_handler: true
  modules_path: Modules
  settings_path: Settings
  cors:
    enabled: true
    headers:
      - X-Operation
      - X-Resource
      - X-Total-Count
  authentication:
    type: jwt
    global: true
    jwt:
      key: JLBMU2VbJZmt42sUwByUpJJF6Y5mG2gPNU9sQFUpJFcGFJdyKxskR3bxh527kax2UcXHvB
      issuer: dshop-identity-service
      issuers:
      validate_issuer: true
      audience:
      audiences:
      validate_audience: false
      validate_lifetime: false
    claims:
        role: http://schemas.microsoft.com/ws/2008/06/identity/claims/role
    policies:
      admin:
        role: admin
      product_manager:
        role: merchant
        access: create_product
        
extensions:
  dispatcher:
    use: rabbitmq
    configuration: rabbitmq.json

modules:
  - name: home
    routes:
    - upstream: /
      method: GET
      use: return_value
      return_value: Welcome to API Gateway
      auth: false
